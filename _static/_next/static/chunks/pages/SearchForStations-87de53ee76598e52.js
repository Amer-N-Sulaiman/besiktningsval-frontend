(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[449],{224:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/SearchForStations",function(){return c(1613)}])},1613:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return O}});var d=c(7568),e=c(9815),f=c(4051),g=c.n(f),h=c(5893),i=c(682),j=c(1608),k=c(1555),l=c(4776),m=c(3972),n=c(2318),o=c(4716),p=c(5005),q=c(6843),r=c(8102),s=c(2086),t=c(6968),u=c(7294),v=function(a){var b=a.searchForStations,c=(a.searchForStationsWithIp,a.setSortingMethod),d=(a.sortingMethod,a.loadingStations),e=(0,u.useState)(""),f=e[0],g=e[1],i=(0,u.useState)("Distans"),j=i[0],k=i[1],l=function(a,c){a.preventDefault(),b(c)};return(0,h.jsx)("div",{className:"Search",style:{marginTop:"40px",marginBottom:"40px"},children:(0,h.jsxs)("form",{onSubmit:function(a){l(a,f)},children:[(0,h.jsxs)(n.Z,{className:"mb-3",children:[(0,h.jsx)(o.Z,{placeholder:"ange din plats","aria-label":"plats","aria-describedby":"basic-addon2",value:f,onChange:function(a){g(a.target.value)}}),!d&&(0,h.jsx)(p.Z,{type:"Submit",variant:"outline-secondary",id:"button-addon2",children:"S\xf6k"}),d&&(0,h.jsxs)(p.Z,{variant:"primary",disabled:!0,children:[(0,h.jsx)(t.Z,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"})," ","s\xf6kande ..."]})]}),!d&&(0,h.jsxs)(r.Z,{as:s.Z,id:"dropdown-variants-Secondary",variant:"secondary",title:"Sortera efter "+j,children:[(0,h.jsx)(q.Z.Item,{eventKey:"0",onClick:function(){c("distance"),k("Distance")},children:"Distans"}),(0,h.jsx)(q.Z.Item,{eventKey:"1",onClick:function(){c("price"),k("Price")},children:"Pris"}),(0,h.jsx)(q.Z.Item,{eventKey:"2",onClick:function(){c("nearestAvailableDate"),k("Nearest Date")},children:"N\xe4rmaste datum"})]},"Secondary"),d&&(0,h.jsxs)(p.Z,{variant:"primary",disabled:!0,children:[(0,h.jsx)(t.Z,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"})," ","l\xe4ser in ..."]})]})})},w=v,x=c(2623),y=c(8492),z=c(4781),A=c(9397),B=c(7976),C=c(3549),D=function(a){var b=a.station,c=(a.stationIdx,a.addSortingInfo,a.regNum),d=function(){q<Object.keys(t).length-1&&(o(0),r(q+1))},e=function(){q>0&&(o(0),r(q-1))},f=function(){n<t[v()].length-1&&o(n+1)},g=function(){n>0&&o(n-1)},l=(0,u.useState)(0),n=l[0],o=l[1],p=(0,u.useState)(0),q=p[0],r=p[1],s=(0,u.useState)(function(){for(var a={},c=0;c<b.timeInfo.length;c++){var d=b.timeInfo[c].Time.split("T")[0];Object.keys(a).includes(d)||(a[d]=[]),a[d].push(b.timeInfo[c])}return a}()),t=s[0];s[1],(0,u.useEffect)(function(){if(0!==t.length){var a=Object.keys(t)[0];t[a][0].Price}},[]);var v=function(){return Object.keys(t)[q]};return(0,h.jsx)("div",{className:"CarspectStation",style:{},children:(0,h.jsx)(x.Z,{style:{width:"100%"},children:(0,h.jsx)(i.Z,{children:(0,h.jsxs)(j.Z,{children:[(0,h.jsx)(k.Z,{sm:4,style:{float:"left",display:"flex",alignItems:"center"},children:(0,h.jsx)(z.Z,{component:"img",image:"/companiesLogos/Opus-logo.jpg",style:{maxHeight:"200px",width:"auto",margin:"10px auto",marginTop:"30px"},alt:"Opus station"})}),(0,h.jsx)(k.Z,{sm:8,children:(0,h.jsx)(y.Z,{children:(0,h.jsxs)(j.Z,{children:[(0,h.jsxs)(k.Z,{sm:8,style:{float:"left",height:"100%"},children:[(0,h.jsxs)(m.Z,{gutterBottom:!0,variant:"h6",component:"div",children:[b.Name," (",b.distance.toFixed(1)," Km)"]}),(0,h.jsxs)(m.Z,{variant:"body2",color:"text.secondary",children:[b.City,", ",b.StreetAddress]}),(0,h.jsxs)(m.Z,{variant:"body2",className:"mt-2",children:["Tillg\xe4ngligt datum",(0,h.jsx)("br",{}),(0,h.jsx)(C.Z,{style:{marginBottom:"6px",marginRight:"5px"},onClick:e}),(0,h.jsx)("span",{style:{fontSize:"1.5em"},children:v()}),(0,h.jsx)(B.Z,{color:"royalblue",style:{marginBottom:"6px",marginLeft:"5px"},onClick:d}),(0,h.jsx)("br",{}),"P\xe5",(0,h.jsx)("br",{}),(0,h.jsx)(C.Z,{style:{marginBottom:"6px",marginRight:"5px"},onClick:g}),(0,h.jsx)("span",{style:{fontSize:"1.5em"},children:t[v()][n].Time.split("T")[1]}),(0,h.jsx)(B.Z,{color:"royalblue",style:{marginBottom:"6px",marginLeft:"5px"},onClick:f}),(0,h.jsx)("br",{})]})]}),(0,h.jsxs)(k.Z,{sm:4,children:[(0,h.jsxs)(m.Z,{style:{fontSize:"3em",marginBottom:"0px",display:"inline-block",alignItems:"center",width:"100%"},vairant:"body2",color:"text.secondary",className:"mt-2",children:[(0,h.jsx)("span",{children:t[v()][n].Price}),(0,h.jsx)("span",{style:{fontSize:"0.4em"},children:"SEK"})," ",(0,h.jsx)("br",{})]}),(0,h.jsx)(m.Z,{style:{fontSize:"3em",marginBottom:"0px",display:"inline-block",alignItems:"center"},vairant:"body2",color:"text.secondary",className:"mt-2",children:(0,h.jsx)(A.Z,{variant:"contained",onClick:function(){window.open("https://boka.bilprovning.se/vehiclesandproducts/"+c)},children:"boka"})})]})]})})})]})})})})},E=function(a){var b,c,e,f,l,n,o=a.station;a.stationIdx;var p=function(){v<N.length-1&&(F(0),J(0),w(v+1))},q=function(){v>0&&(F(0),J(0),w(v-1))},r=function(){var a=Object.keys(N[v].hours)[E];I<N[v].hours[a].length-1?J(I+1):E<Object.keys(N[v].hours).length-1&&(J(0),F(E+1))},s=function(){if(I>0)J(I-1);else if(E>0){F(E-1),G.current=E-1;var a=Object.keys(N[v].hours)[G.current];J(N[v].hours[a].length-1)}},t=(0,u.useState)(0),v=t[0],w=t[1],D=(0,u.useState)(0),E=D[0],F=D[1],G=(0,u.useRef)();G.current=E;var H=(0,u.useState)(0),I=H[0],J=H[1],K=(0,u.useState)(0);function L(){return(L=(0,d.Z)(g().mark(function a(){var b;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:b=window.open("https://www.carspect.se/");case 1:case"end":return a.stop()}},a)}))).apply(this,arguments)}K[0],K[1];var M=(0,u.useState)(o.timeInfo),N=M[0];return M[1],String.prototype.replaceAt=function(a,b){return this.substr(0,a)+b+this.substr(a+b.length)},(0,h.jsx)("div",{className:"CarspectStation",children:(0,h.jsx)(x.Z,{style:{width:"100%"},children:(0,h.jsx)(i.Z,{children:(0,h.jsxs)(j.Z,{children:[(0,h.jsx)(k.Z,{sm:4,style:{float:"left",display:"flex",alignItems:"center"},children:(0,h.jsx)(z.Z,{component:"img",image:"/companiesLogos/Carspect-logo.jpg",alt:"Carspect station",style:{maxHeight:"200px",width:"auto",margin:"10px auto",marginTop:"30px"}})}),(0,h.jsx)(k.Z,{sm:8,children:(0,h.jsx)(y.Z,{children:(0,h.jsxs)(j.Z,{children:[(0,h.jsxs)(k.Z,{sm:8,style:{float:"left",height:"100%"},children:[(0,h.jsxs)(m.Z,{gutterBottom:!0,variant:"h6",component:"div",children:[o.name," (",o.distance.toFixed(1)," Km)"]}),(0,h.jsxs)(m.Z,{variant:"body2",color:"text.secondary",children:[o.city,", ",o.streetAddress]}),(0,h.jsxs)(m.Z,{variant:"body2",className:"mt-2",children:["Tillg\xe4ngligt datum",(0,h.jsx)("br",{}),(0,h.jsx)(C.Z,{style:{marginBottom:"6px",marginRight:"5px"},onClick:q}),(0,h.jsx)("span",{style:{fontSize:"1.5em"},children:N[v].day.split("T")[0]}),(0,h.jsx)(B.Z,{color:"royalblue",style:{marginBottom:"6px",marginLeft:"5px"},onClick:p}),(0,h.jsx)("br",{}),"P\xe5",(0,h.jsx)("br",{}),(0,h.jsx)(C.Z,{style:{marginBottom:"6px",marginRight:"5px"},onClick:s}),(0,h.jsx)("span",{style:{fontSize:"1.5em"},children:(c=Object.keys(b=N[v].hours)[E],e=b[c][I].time.split("T")[1].slice(0,-1),f=parseInt(e.substr(0,2))+1,console.log("hour1: "+f),console.log(e),e=f+e.substr(2,e.length),e.length<8&&(e="0"+e),console.log(e),e)}),(0,h.jsx)(B.Z,{color:"royalblue",style:{marginBottom:"6px",marginLeft:"5px"},onClick:r}),(0,h.jsx)("br",{})]})]}),(0,h.jsxs)(k.Z,{sm:4,children:[(0,h.jsxs)(m.Z,{style:{fontSize:"3em",marginBottom:"0px",display:"inline-block",alignItems:"center",width:"100%"},vairant:"body2",color:"text.secondary",className:"mt-2",children:[(0,h.jsx)("span",{children:(n=Object.keys(l=N[v].hours)[E],l[n][I].onlinePaymentPrice)}),(0,h.jsx)("span",{style:{fontSize:"0.4em"},children:"SEK"})," ",(0,h.jsx)("br",{})]}),(0,h.jsx)(m.Z,{style:{fontSize:"3em",marginBottom:"0px",display:"inline-block",alignItems:"center"},vairant:"body2",color:"text.secondary",className:"mt-2",children:(0,h.jsx)(A.Z,{variant:"contained",style:{marginTop:"7px"},onClick:function(){return L.apply(this,arguments)},children:"boka"})})]})]})})})]})})})})};c(3935);var F=function(a){var b=a.station;a.stationIdx;var c=(0,u.useState)(0),d=c[0],e=c[1],f=(0,u.useState)(0),g=f[0],l=f[1];(0,u.useRef)();var n=function(){window.open("https://bokning.dekra-bilbesiktning.se/")},o=(0,u.useState)(function(){for(var a=b.timeInfo,c=[],d=0;d<a.length;d++)a[d].timeSlots.length>0&&c.push(a[d]);return c}()),p=o[0];o[1];var q,r=function(){d<p.length-1&&(l(0),e(d+1))},s=function(){d>0&&(l(0),e(d-1))},t=function(){g<p[d].timeSlots.length-1&&l(g+1)},v=function(){g>0&&l(g-1)};return(0,h.jsx)("div",{className:"CarspectStation",children:(0,h.jsx)(x.Z,{style:{width:"100%"},children:(0,h.jsx)(i.Z,{children:(0,h.jsxs)(j.Z,{children:[(0,h.jsx)(k.Z,{sm:4,style:{float:"left",display:"flex",alignItems:"center"},children:(0,h.jsx)(z.Z,{component:"img",image:"/companiesLogos/Dekra-logo.png",alt:"Dekra station",style:{maxHeight:"200px",maxWidth:"200px",width:"auto",margin:"10px auto",marginTop:"30px"}})}),(0,h.jsx)(k.Z,{sm:8,children:(0,h.jsx)(y.Z,{children:(0,h.jsxs)(j.Z,{children:[(0,h.jsxs)(k.Z,{sm:8,style:{float:"left",height:"100%"},children:[(0,h.jsxs)(m.Z,{gutterBottom:!0,variant:"h6",component:"div",children:[b.stationNumber," (",b.distance.toFixed(1)," Km)"]}),(0,h.jsxs)(m.Z,{variant:"body2",color:"text.secondary",children:[b.city,", ",b.address]}),(0,h.jsxs)(m.Z,{variant:"body2",className:"mt-2",children:["Tillg\xe4ngligt datum",(0,h.jsx)("br",{}),(0,h.jsx)(C.Z,{style:{marginBottom:"6px",marginRight:"5px"},onClick:s}),(0,h.jsx)("span",{style:{fontSize:"1.5em"},children:p[d].date}),(0,h.jsx)(B.Z,{color:"royalblue",style:{marginBottom:"6px",marginLeft:"5px"},onClick:r}),(0,h.jsx)("br",{}),"P\xe5",(0,h.jsx)("br",{}),(0,h.jsx)(C.Z,{style:{marginBottom:"6px",marginRight:"5px"},onClick:v}),(0,h.jsx)("span",{style:{fontSize:"1.5em"},children:q=(q=(q=p[d].timeSlots[g].interval.start).split("T")[1]).split(".")[0]}),(0,h.jsx)(B.Z,{color:"royalblue",style:{marginBottom:"6px",marginLeft:"5px"},onClick:t}),(0,h.jsx)("br",{})]})]}),(0,h.jsxs)(k.Z,{sm:4,children:[(0,h.jsxs)(m.Z,{style:{fontSize:"3em",marginBottom:"0px",display:"inline-block",alignItems:"center",width:"100%"},vairant:"body2",color:"text.secondary",className:"mt-2",children:[(0,h.jsx)("span",{children:p[d].timeSlots[g].price}),(0,h.jsx)("span",{style:{fontSize:"0.4em"},children:"SEK"})," ",(0,h.jsx)("br",{})]}),(0,h.jsx)(m.Z,{style:{fontSize:"3em",marginBottom:"0px",display:"inline-block",alignItems:"center"},vairant:"body2",color:"text.secondary",className:"mt-2",children:(0,h.jsx)(A.Z,{variant:"contained",style:{marginTop:"7px"},onClick:n,children:"boka"})})]})]})})})]})})})})},G=c(9669),H=c.n(G),I=c(2902),J=c(1955),K=c(1163),L=c(9008),M=c.n(L),N=function(a){var b=function(a){return a*(Math.PI/180)},c=function(a,c,d,e){var f=b(d-a),g=b(e-c),h=Math.sin(f/2)*Math.sin(f/2)+Math.cos(b(a))*Math.cos(b(d))*Math.sin(g/2)*Math.sin(g/2);return 6371*(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)))},f=(0,u.useState)(!0),n=f[0],o=f[1],p="https://api.besiktningsval.se",q=(0,u.useState)("distance"),r=q[0],s=q[1],t=(0,u.useState)(0),v=t[0],x=t[1],y=J.Z.get("regNum"),z=(0,u.useState)(!1),A=z[0],B=z[1],C=(0,u.useState)({lat:0,lng:0,NELat:0,NELng:0,SWLat:0,SWLng:0}),G=C[0],L=C[1],N=(0,u.useState)([]),O=N[0],P=N[1],Q=(0,u.useRef)(O);Q.current=O;var R=(0,u.useState)([]),S=R[0],T=R[1],U=(0,u.useState)(""),V=U[0],W=U[1],X=(0,u.useState)([]),Y=X[0],Z=X[1],$=(0,u.useState)([]),_=$[0],aa=$[1],ab=(0,u.useState)(""),ac=ab[0],ad=ab[1],ae=(0,K.useRouter)();function af(){return(af=(0,d.Z)(g().mark(function a(b){var c,d,e,f,h;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!A){a.next=2;break}return a.abrupt("return");case 2:return B(!0),P([]),x(1),a.next=7,ap();case 7:return c="AIzaSyDD4bzCpX0rVcvl6wSm0y__gYPgwvkba14",a.prev=8,d="https://maps.googleapis.com/maps/api/geocode/json?address="+b+"&key="+c,a.next=12,H().get(d,{headers:{"Content-Type":"application/json"}});case 12:f=(e=a.sent).data.results[0].geometry.location.lat,a.next=22;break;case 16:return a.prev=16,a.t0=a.catch(8),console.log("there was an error in google maps api"),B(!1),x(1),a.abrupt("return");case 22:console.log("location info: ",e.data),JSON.stringify(h=(0,I.ZP)(G,function(a){a.lat=e.data.results[0].geometry.location.lat,a.lng=e.data.results[0].geometry.location.lng,a.NELat=e.data.results[0].geometry.bounds.northeast.lat,a.NELng=e.data.results[0].geometry.bounds.northeast.lng,a.SWLat=e.data.results[0].geometry.bounds.southwest.lat,a.SWLng=e.data.results[0].geometry.bounds.southwest.lng}))===JSON.stringify(G)?o(!n):L(h);case 25:case"end":return a.stop()}},a,null,[[8,16]])}))).apply(this,arguments)}function ag(){return(ag=(0,d.Z)(g().mark(function a(){var b,c,d,e;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return P([]),c="https://www.googleapis.com/geolocation/v1/geolocate?key="+(b="AIzaSyDD4bzCpX0rVcvl6wSm0y__gYPgwvkba14"),a.next=5,H().post(c,{});case 5:d=a.sent,JSON.stringify(e=(0,I.ZP)(G,function(a){a.lat=d.data.location.lat,a.lng=d.data.location.lng,a.NELat=0,a.NELng=0,a.SWLat=0,a.SWLng=0}))===JSON.stringify(G)?o(!n):L(e);case 8:case"end":return a.stop()}},a)}))).apply(this,arguments)}function ah(){return ai.apply(this,arguments)}function ai(){return(ai=(0,d.Z)(g().mark(function a(){var b;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,H().get("https://booking-api.muster.se/v1/Stations?ChainId=2&productType=Inspection",{headers:{"Content-Type":"application/json"}});case 2:Z((b=a.sent).data);case 4:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aj(a){return ak.apply(this,arguments)}function ak(){return(ak=(0,d.Z)(g().mark(function a(b){var c,d,e,f;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=function(a){for(var b=function(b){var d=c[b];e=(0,I.ZP)(e,function(b){b[a].hours[d]=b[a].hours[d].filter(function(a){return a.isAvailable}),0===b[a].hours[d].length&&delete b[a].hours[d]})},c=Object.keys(e[a].hours),d=0;d<c.length;d++)b(d)},a.next=3,H().get(p+"/api/getCarspectStationTimeInfo/"+Y[b].id+"/",{headers:{"Content-Type":"application/json"}});case 3:for(f=0,e=(d=a.sent).data;f<e.length;f++)c(f);return e=e.filter(function(a){return Object.keys(a.hours).length>0}),a.abrupt("return",e);case 8:case"end":return a.stop()}},a)}))).apply(this,arguments)}function al(){return am.apply(this,arguments)}function am(){return(am=(0,d.Z)(g().mark(function a(){var b,d,f,h,i,j,k,l,m;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:b=0;case 1:if(!(b<Y.length)){a.next=21;break}if(d=Y[b].coordinateLat,f=Y[b].coordinateLng,h=c(G.lat,G.lng,d,f),i=c(G.NELat,G.NELng,d,f),j=c(G.SWLat,G.SWLng,d,f),!(h<10||i<10||j<10)){a.next=18;break}return a.next=10,aj(b);case 10:if(!((k=a.sent).length<1)){a.next=13;break}return a.abrupt("continue",18);case 13:console.log(k),l=(0,I.ZP)(Y,function(a){a[b].Company="Carspect",a[b].distance=h,a[b].timeInfo=k;var c=k[0].hours,d=Object.keys(c)[0];a[b].price=c[d][0].onlinePaymentPrice,a[b].nearestAvailableDate=k[0].day.split("T")[0]}),P(m=(0,e.Z)(Q.current).concat([l[b]])),Q.current=m;case 18:b++,a.next=1;break;case 21:case"end":return a.stop()}},a)}))).apply(this,arguments)}function an(){return ao.apply(this,arguments)}function ao(){return(ao=(0,d.Z)(g().mark(function a(){var b;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,H().get(p+"/api/getOpusStations/",{headers:{"Content-Type":"application/json"}});case 2:T((b=a.sent).data);case 4:case"end":return a.stop()}},a)}))).apply(this,arguments)}function ap(){return aq.apply(this,arguments)}function aq(){return(aq=(0,d.Z)(g().mark(function a(){var b,c;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b=p+"/api/getOpusBookingId/"+y+"/",a.next=3,H().get(b,{headers:{"Content-Type":"application/json"}});case 3:W((c=a.sent).data.Id);case 5:case"end":return a.stop()}},a)}))).apply(this,arguments)}function ar(a){return as.apply(this,arguments)}function as(){return(as=(0,d.Z)(g().mark(function a(b){var c;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,H().get(p+"/api/getOpusStationTimeInfo/"+S[b].Id+"/"+V+"/",{headers:{"Content-Type":"application/json"}});case 2:return c=a.sent,a.abrupt("return",c.data);case 4:case"end":return a.stop()}},a)}))).apply(this,arguments)}function at(){return au.apply(this,arguments)}function au(){return(au=(0,d.Z)(g().mark(function a(){var b,d,f,h,i,j,k,l,m,n;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ap();case 2:b=S,d=0;case 4:if(!(d<S.length)){a.next=30;break}if(f=S[d].Latitude,h=S[d].Longitude,i=c(G.lat,G.lng,f,h),j=c(G.NELat,G.NELng,f,h),k=c(G.SWLat,G.SWLng,f,h),!(i<30||j<30||k<30)){a.next=27;break}return a.prev=11,a.next=14,ar(d);case 14:l=a.sent,a.next=20;break;case 17:return a.prev=17,a.t0=a.catch(11),a.abrupt("continue",27);case 20:if(!(l.length<1)){a.next=22;break}return a.abrupt("continue",27);case 22:m=(0,I.ZP)(S,function(a){a[d].Company="Opus",a[d].distance=i,a[d].timeInfo=l;var b=l[0].Time.split("T")[0];a[d].nearestAvailableDate=b,a[d].price=l[0].Price}),T(m),n=(0,e.Z)(Q.current).concat([m[d]]),Q.current=n,P(n);case 27:d++,a.next=4;break;case 30:case"end":return a.stop()}},a,null,[[11,17]])}))).apply(this,arguments)}function av(){return aw.apply(this,arguments)}function aw(){return(aw=(0,d.Z)(g().mark(function a(){var b;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,H().get(p+"/api/getDekraStations/"+y+"/",{headers:{"Content-Type":"application/json"}});case 2:aa((b=a.sent).data);case 4:case"end":return a.stop()}},a)}))).apply(this,arguments)}function ax(){return ay.apply(this,arguments)}function ay(){return(ay=(0,d.Z)(g().mark(function a(){var b;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,H().get(p+"/api/getDekraBookingId/"+y+"/",{headers:{"Content-Type":"application/json"}});case 2:ad((b=a.sent).data.id);case 4:case"end":return a.stop()}},a)}))).apply(this,arguments)}function az(a){return aA.apply(this,arguments)}function aA(){return(aA=(0,d.Z)(g().mark(function a(b){var c;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,H().get(p+"/api/getDekraStationTimeInfo/"+b+"/"+ac+"/");case 2:return c=a.sent,console.log("Dekra Station Id: "+b),console.log("Dekra Booking Id"+ac),a.abrupt("return",c.data);case 6:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aB(){return aC.apply(this,arguments)}function aC(){return(aC=(0,d.Z)(g().mark(function a(){var b,d,f,h,i,j,k,l,m,n;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ax();case 2:b=0;case 3:if(!(b<_.length)){a.next=22;break}if(d=_[b].latitude,f=_[b].longitude,h=c(G.lat,G.lng,d,f),i=c(G.NELat,G.NELng,d,f),j=c(G.SWLat,G.SWLng,d,f),!(h<10||i<10||j<10)){a.next=19;break}return k=_[b].id,a.next=13,az(k);case 13:l=a.sent,m=(0,I.ZP)(_,function(a){a[b].Company="Dekra",a[b].distance=h,a[b].timeInfo=l;for(var c=0;!(l[c].timeSlots.length>0);)c+=1;var d=l[c].timeSlots[0].interval.start.split("T")[0];a[b].nearestAvailableDate=d,a[b].price=l[c].timeSlots[0].price}),aa(m),n=(0,e.Z)(Q.current).concat([m[b]]),Q.current=n,P(n);case 19:b++,a.next=3;break;case 22:case"end":return a.stop()}},a)}))).apply(this,arguments)}return(0,u.useEffect)(function(){function a(){return(a=(0,d.Z)(g().mark(function a(){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Promise.all([an(),ah(),av(),]);case 2:case"end":return a.stop()}},a)}))).apply(this,arguments)}void 0==J.Z.get("regNum")&&ae.push("/"),function(){a.apply(this,arguments)}(),B(!1)},[]),(0,u.useEffect)(function(){function a(){return(a=(0,d.Z)(g().mark(function a(){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Promise.all([al(),at(),aB(),]);case 2:case"end":return a.stop()}},a)}))).apply(this,arguments)}console.log("set use Effect"),(function(){return a.apply(this,arguments)})().then(function(){B(!1)})},[G,n]),(0,h.jsxs)("div",{className:"SearchForStations",children:[(0,h.jsxs)(M(),{children:[(0,h.jsx)("title",{children:"bilbesiktningar finns"}),(0,h.jsx)("meta",{name:"description",content:"Ange din plats f\xf6r att s\xf6ka efter de b\xe4sta besiktningsinspektionerna n\xe4ra dig"})]}),(0,h.jsx)(i.Z,{children:(0,h.jsx)(j.Z,{children:(0,h.jsx)(k.Z,{lg:6,md:6,sm:10,xs:11,style:{margin:"20px auto"},children:(0,h.jsx)(w,{searchForStations:function(a){return af.apply(this,arguments)},searchForStationsWithIp:function(){return ag.apply(this,arguments)},setSortingMethod:s,sortingMethod:r,loadingStations:A})})})}),(0,h.jsxs)(i.Z,{children:[(0,h.jsx)(j.Z,{children:(0,h.jsxs)(k.Z,{children:[O.length>0&&(0,h.jsxs)(m.Z,{variant:"subtitle2",style:{float:"left"},children:["Hittades ",O.length," stationer"]}),O.length<1&&!A&&1==v&&(0,h.jsx)(m.Z,{variant:"subtitle2",style:{float:"left"},children:"Inga stationer hittades n\xe4ra din plats"}),O.length<1&&0===v&&(0,h.jsx)(m.Z,{variant:"subtitle2",style:{float:"left"},children:"Ange din plats f\xf6r att hitta stationer n\xe4ra dig"})]})}),O.sort(function(a,b){return a[r]>b[r]?1:-1}).map(function(a,b){return"Opus"===a.Company?(0,h.jsx)(l.Z,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:(0,h.jsx)(j.Z,{children:(0,h.jsx)(k.Z,{sm:12,style:{margin:"10px auto"},children:(0,h.jsx)(D,{station:a,stationIdx:b,regNum:y})})},a.Company+a.Id)},a.Company+a.Id):"Carspect"===a.Company?(0,h.jsx)(l.Z,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:(0,h.jsx)(j.Z,{children:(0,h.jsx)(k.Z,{sm:12,style:{margin:"10px auto"},children:(0,h.jsx)(E,{station:a,stationIdx:b})})},a.Company+a.id)},a.Company+a.id):"Dekra"===a.Company?(0,h.jsx)(l.Z,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:(0,h.jsx)(j.Z,{children:(0,h.jsx)(k.Z,{sm:12,style:{margin:"10px auto"},children:(0,h.jsx)(F,{station:a,stationIdx:b})})},a.Company+a.id)},a.Company+a.id):void 0})]})]})},O=N}},function(a){a.O(0,[638,205,115,774,888,179],function(){var b;return a(a.s=224)}),_N_E=a.O()}])